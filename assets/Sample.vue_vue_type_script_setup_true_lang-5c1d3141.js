import{$ as z,r as g,a3 as B,a4 as E,a5 as T,w as L,a6 as w,a7 as O,a1 as $,o as A,f as N,G as V,a8 as D,a9 as F,c as h,b as u,n as S,t as U,a2 as j,aa as W,F as C,i as G,A as H,j as M,y as R,a as x,h as I,ab as q,l as J}from"./index-998f1571.js";function K(t){var o;const n=w(t);return(o=n==null?void 0:n.$el)!=null?o:n}const P=E?window:void 0,Q=E?window.navigator:void 0;function X(...t){let o,n,s,y;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,s,y]=t,o=P):[o,n,s,y]=t,!o)return T;Array.isArray(n)||(n=[n]),Array.isArray(s)||(s=[s]);const r=[],m=()=>{r.forEach(l=>l()),r.length=0},e=(l,d,f,c)=>(l.addEventListener(d,f,c),()=>l.removeEventListener(d,f,c)),p=L(()=>[K(o),w(y)],([l,d])=>{m(),l&&r.push(...n.flatMap(f=>s.map(c=>e(l,f,c,d))))},{immediate:!0,flush:"post"}),i=()=>{p(),m()};return O(i),i}function Y(){const t=g(!1);return $()&&A(()=>{t.value=!0}),t}function Z(t){const o=Y();return z(()=>(o.value,!!t()))}function ee(t={}){const{navigator:o=Q,read:n=!1,source:s,copiedDuring:y=1500,legacy:r=!1}=t,m=["copy","cut"],e=Z(()=>o&&"clipboard"in o),p=z(()=>e.value||r),i=g(""),l=g(!1),d=B(()=>l.value=!1,y);function f(){e.value?o.clipboard.readText().then(a=>{i.value=a}):i.value=_()}if(p.value&&n)for(const a of m)X(a,f);async function c(a=w(s)){p.value&&a!=null&&(e.value?await o.clipboard.writeText(a):b(a),i.value=a,l.value=!0,d.start())}function b(a){const v=document.createElement("textarea");v.value=a??"",v.style.position="absolute",v.style.opacity="0",document.body.appendChild(v),v.select(),document.execCommand("copy"),v.remove()}function _(){var a,v,k;return(k=(v=(a=document==null?void 0:document.getSelection)==null?void 0:a.call(document))==null?void 0:v.toString())!=null?k:""}return{isSupported:p,text:i,copied:l,copy:c}}const te={class:"text-info-500 mb-2 text-lg"},oe={class:"flex justify-center border-2 rounded-md border-dashed p-4 shadow-sm"},ne=u("code",{class:"whitespace-pre-wrap text-sm"}," ​ ​ ​ ​ ",-1),se=[ne],ae=["onClick"],ie=u("div",{class:"i-mdi:content-copy"},null,-1),le=[ie],ue=N({__name:"Sample",props:{title:{default:""},snippets:null},setup(t){const{copy:o}=ee(),n=g(null),s=g(null),y=g(null),r=g(null),m=g(null),e=V({collapsed:!0,isSnippetCodeOverflow:!1,codeSnippetMaxHeight:0,mounted:!1,toggleCollapse(){e.collapsed=!e.collapsed,e.resizeSnippetContent()},setSnippetContentHeight(){r.value&&s.value&&(e.codeSnippetMaxHeight=r.value.offsetHeight,e.isSnippetCodeOverflow=s.value.offsetHeight>e.codeSnippetMaxHeight)},resizeSnippetContent(){s.value&&r.value&&m.value&&(e.collapsed?e.codeSnippetMaxHeight=r.value.offsetHeight:e.codeSnippetMaxHeight=s.value.offsetHeight+m.value.offsetHeight)},onCopy(p){var i;o(p),(i=n.value)==null||i.success("copy code successfully!")}});return D(()=>{window.addEventListener("resize",e.resizeSnippetContent)}),F(()=>{window.removeEventListener("resize",e.resizeSnippetContent)}),A(()=>{e.setSnippetContentHeight(),e.resizeSnippetContent(),setTimeout(()=>e.mounted=!0,100)}),(p,i)=>{var d,f;const l=J("UToast");return x(),h(C,null,[u("section",null,[u("div",{class:S(["border-x border-t border-gray-100 bg-white p-3 shadow sm:p-4",(d=t.snippets)!=null&&d.length?"rounded-t-lg":"rounded-lg border-b"])},[u("div",te,U(t.title),1),u("div",oe,[j(p.$slots,"default")])],2),(f=t.snippets)!=null&&f.length?(x(),h("div",{key:0,class:S(["relative overflow-y-hidden rounded-b-lg bg-gray-800",{"transition-all duration-500 ease-out":e.mounted}]),style:W([e.isSnippetCodeOverflow?{maxHeight:`${e.codeSnippetMaxHeight}px`}:{}])},[u("div",{ref_key:"sampleRef",ref:y,class:"p-4"},[u("div",{ref_key:"dummyCodeRef",ref:r,class:"invisible absolute p-4"},se,512),u("div",{ref_key:"snippetRef",ref:s,class:S(["overflow-x-auto py-2 space-y-5",{"pb-4":e.isSnippetCodeOverflow}])},[(x(!0),h(C,null,G(t.snippets,(c,b)=>(x(),h("div",{key:b,class:"group relative"},[R(I(q).component,{language:"xml",code:c},null,8,["code"]),u("button",{class:"absolute right-0 top-0 inline-flex items-center text-white opacity-50 transition-opacity duration-100 ease-in-out group-hover:opacity-100",onClick:_=>e.onCopy(c)},le,8,ae)]))),128))],2)],512),e.isSnippetCodeOverflow?(x(),h("div",{key:0,ref_key:"expandButtonRef",ref:m,class:"absolute bottom-0 w-full from-gray-800 bg-gradient-to-t p-2 text-center"},[u("button",{class:"rounded-full bg-gray-700 px-2 py-1 text-sm leading-tight text-gray-100 focus:outline-none",onClick:i[0]||(i[0]=c=>e.toggleCollapse())},[e.collapsed?(x(),h(C,{key:0},[H(" expand ")],64)):(x(),h(C,{key:1},[H(" collapse ")],64))])],512)):M("",!0)],6)):M("",!0)]),R(l,{ref_key:"toastRef",ref:n,position:"top",align:"right"},null,512)],64)}}});export{ue as _};
